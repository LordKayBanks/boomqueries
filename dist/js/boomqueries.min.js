/*! BoomQueries 0.0.4 | http://boomtownroi.github.io/boomqueries/ | (c) 2014 BoomTown | MIT License */
!function(e,t){"function"==typeof define&&define.amd?define(["boomQueries"],t):"object"==typeof exports?module.exports=t():e.boomQueries=t()}(this,function(){"use strict";function e(){this.nodes=[],this.map={},window.addEventListener("resize",this.debounce(this,this.update,100),!1)}function t(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function n(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}var o=window.CustomEvent;return"object"==typeof o&&(o=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},o.prototype=window.Event.prototype),e.prototype.debounce=function(e,t,n,o){var s;return function(){var i=arguments,r=function(){s=null,o||t.apply(e,i)},a=o&&!s;clearTimeout(s),s=setTimeout(r,n),a&&t.apply(e,i)}},e.prototype.update=function(e){var t={};"undefined"!=typeof e&&(t.detail=e);var n=new o("checkyourself",t);this.nodes.forEach(function(e){e.dispatchEvent(n)})},e.prototype._add=function(e,s,i){void 0===e.breaks&&(e.breaks=s,null!==i&&(e.selector=i),e.addEventListener("checkyourself",function(){if(null!==this.offsetParent){for(var e=this.breaks.length,s=this.offsetWidth,i=-1;e--;)s>=this.breaks[e][0]&&i++,n(this,this.breaks[e][1]);i>=0&&t(this,this.breaks[i][1]);var r={detail:{offsetWidth:s,currentBreak:this.breaks[i]}},a=new o("nodeUpdated",r);this.dispatchEvent(a)}}),e.addEventListener("cleanup",function(){var e=this;this.breaks.forEach(function(t){classListRemove(e,t[1])})}),this.nodes.push(e))},e.prototype._addSelector=function(e,t){this.map[e]=t;var n=document.querySelectorAll(e),o=this;Array.prototype.forEach.call(n,function(n){o._add(n,t,e)})},e.prototype.add=function(e,t,n){if("string"==typeof e)this._addSelector(e,t);else{var o=null,s=this;"undefined"!==n&&(o=n),e.constructor===Array?e.forEach(function(e){s._add(e,t,o)}):this._add(e,t,o)}this.update()},e.prototype.refresh=function(){this.remove();var e=Object.keys(this.map),t=this;e.forEach(function(e){t._addSelector(e,t.map[e])}),this.update()},e.prototype._delete=function(e){return this.nodes[e].dispatchEvent(new o("cleanup")),this.nodes[e].removeEventListener("checkyourself"),this.nodes[e].removeEventListener("cleanup"),this.nodes.splice(e,1),!0},e.prototype.remove=function(e){var t;if(void 0!==e){for(t=this.nodes.length;t--;)this.nodes[t].selector===e&&this._delete(t);this.map.hasOwnProperty(e)&&delete this.map[e]}else for(t=this.nodes.length;t--;)document.body.contains(this.nodes[t])||this._delete(t)},e.prototype.get=function(e){for(var t=this.nodes.length;t--;)if(this.nodes[t].selector===e)return this.nodes[t]},e.prototype.inspect=function(e){"undefined"!=typeof console&&console.log("map"===e?this.map:this.nodes)},new e});